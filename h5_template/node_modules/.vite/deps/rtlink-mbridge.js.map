{
  "version": 3,
  "sources": ["../../rtlink-mbridge/dist/index.mjs"],
  "sourcesContent": ["// package.json\nvar package_default = {\n  name: \"rtlink-mbridge\",\n  version: \"0.26.0\",\n  description: \"\",\n  main: \"index.js\",\n  module: \"./dist/index.mjs\",\n  types: \"./dist/index.d.ts\",\n  exports: {\n    \".\": {\n      import: \"./dist/index.mjs\",\n      require: \"./dist/index.js\",\n      types: \"./dist/index.d.ts\"\n    }\n  },\n  files: [\"dist\"],\n  scripts: {\n    test: 'echo \"Error: no test specified\" && exit 1',\n    build: \"tsup src/index.ts --format cjs,esm --dts\"\n  },\n  keywords: [],\n  author: \"\",\n  license: \"ISC\",\n  devDependencies: {\n    tsup: \"^8.5.1\",\n    typescript: \"^5.9.3\"\n  }\n};\n\n// src/utils.ts\nvar fnSpliter = \"|rtm|\";\nfunction isIOS() {\n  const ua = navigator.userAgent.toLowerCase();\n  if (/iphone|ipad|ipod/.test(ua)) {\n    return true;\n  }\n  if (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1) {\n    return true;\n  }\n  if (navigator.platform.includes(\"iPhone\") || navigator.platform.includes(\"iPad\")) {\n    return true;\n  }\n  return false;\n}\nfunction isAndroid() {\n  if (typeof navigator === \"undefined\") return false;\n  return /android/i.test(navigator.userAgent);\n}\n\n// src/iOS.ts\nvar postDataToiOS = (data) => {\n  const dataType = typeof data;\n  let _data;\n  if (dataType == \"object\") {\n    _data = JSON.stringify(data);\n  } else {\n    _data = data;\n  }\n  try {\n    window.webkit?.messageHandlers?.swiftHandler.postMessage(_data);\n  } catch (err) {\n    console.error(err);\n  }\n};\nvar getDeviceInfo = async () => {\n  return new Promise((resolve) => {\n    postDataToiOS(`getDeviceInfo`);\n    window.rtmobile.callbacks.afterGetDeviceInfo = resolve;\n  });\n};\nvar writeLocal = async (key, value, seconds) => {\n  return new Promise((resolve) => {\n    postDataToiOS(`writeLocal${fnSpliter}${key}${fnSpliter}${value}${fnSpliter}${seconds}`);\n    window.rtmobile.callbacks.afterWriteLocal = resolve;\n  });\n};\nvar readLocal = async (key) => {\n  return new Promise((resolve) => {\n    postDataToiOS(`readLocal${fnSpliter}${key}`);\n    window.rtmobile.callbacks.afterReadLocal = resolve;\n  });\n};\nvar preDial = async (number) => {\n  postDataToiOS(`preDial${fnSpliter}${number}`);\n};\nvar checkoutNetwork = async () => {\n  return new Promise((resolve) => {\n    postDataToiOS(`checkoutNetwork`);\n    window.rtmobile.callbacks.afterCheckoutNetwork = resolve;\n  });\n};\nvar setScreenHorizontal = async () => {\n  return new Promise((resolve) => {\n    postDataToiOS(`setScreenHorizontal`);\n    setTimeout(() => {\n      resolve();\n    }, 300);\n  });\n};\nvar setScreenPortrait = async () => {\n  return new Promise((resolve) => {\n    postDataToiOS(`setScreenPortrait`);\n    setTimeout(() => {\n      resolve();\n    }, 300);\n  });\n};\nvar scan = async () => {\n  return new Promise((resolve) => {\n    postDataToiOS(`scan`);\n    window.rtmobile.callbacks.afterScan = resolve;\n  });\n};\n\n// src/android.ts\nvar getDeviceInfo2 = async () => {\n  return new Promise((resolve) => {\n    window.Android.getDeviceInfo();\n    window.rtmobile.callbacks.afterGetDeviceInfo = resolve;\n  });\n};\nvar writeLocal2 = async (key, value, seconds) => {\n  return new Promise((resolve) => {\n    window.Android.writeLocal(key, `${value}`, seconds);\n    window.rtmobile.callbacks.afterWriteLocal = resolve;\n  });\n};\nvar readLocal2 = async (key) => {\n  return new Promise((resolve) => {\n    window.Android.readLocal(key);\n    window.rtmobile.callbacks.afterReadLocal = resolve;\n  });\n};\nvar preDial2 = async (number) => {\n  window.Android.preDial(number);\n};\nvar checkoutNetwork2 = async () => {\n  return new Promise((resolve) => {\n    window.Android.checkoutNetwork();\n    window.rtmobile.callbacks.afterCheckoutNetwork = resolve;\n  });\n};\nvar setScreenHorizontal2 = async () => {\n  return new Promise((resolve) => {\n    window.Android.setScreenHorizontal();\n    setTimeout(() => {\n      resolve();\n    }, 300);\n  });\n};\nvar setScreenPortrait2 = async () => {\n  return new Promise((resolve) => {\n    window.Android.setScreenPortrait();\n    setTimeout(() => {\n      resolve();\n    }, 300);\n  });\n};\nvar scan2 = async () => {\n  return new Promise((resolve) => {\n    window.Android.scan();\n    window.rtmobile.callbacks.afterScan = resolve;\n  });\n};\n\n// src/index.ts\nvar rtm = {\n  // 初始化铺垫\n  init() {\n    const color1 = \"#1e90ff\";\n    const color2 = \"#fff\";\n    console.log(\n      `%c rtlink-mbridge %c v${package_default.version} `,\n      `background:${color1}; color:${color2}; padding:2px 4px; border-radius:4px 0 0 4px; border: solid 1px ${color1};`,\n      `background:${color2}; color:${color1}; padding:2px 4px; border-radius:0 4px 4px 0; border: solid 1px ${color1};`\n    );\n    if (!window.rtmobile) {\n      window.rtmobile = {\n        version: package_default.version,\n        callbacks: {}\n      };\n    }\n  }\n};\nvar index_default = rtm;\nvar getDeviceInfo3 = async () => {\n  if (isIOS()) {\n    return getDeviceInfo();\n  } else if (isAndroid()) {\n    return getDeviceInfo2();\n  } else {\n    return Promise.resolve(\"X\");\n  }\n};\nvar writeLocal3 = async (key, value, seconds) => {\n  const validityPeriod = 3600 * 24 * 365 * 99;\n  if (isIOS()) {\n    return writeLocal(key, value, seconds ?? validityPeriod);\n  } else if (isAndroid()) {\n    return writeLocal2(key, value, seconds ?? validityPeriod);\n  } else {\n    return Promise.resolve(\"X\");\n  }\n};\nvar readLocal3 = async (key) => {\n  if (isIOS()) {\n    return readLocal(key);\n  } else if (isAndroid()) {\n    return readLocal2(key);\n  } else {\n    return Promise.resolve(\"X\");\n  }\n};\nvar preDial3 = async (number) => {\n  if (isIOS()) {\n    return preDial(number);\n  } else if (isAndroid()) {\n    return preDial2(number);\n  } else {\n    return;\n  }\n};\nvar checkoutNetwork3 = async () => {\n  if (isIOS()) {\n    return checkoutNetwork();\n  } else if (isAndroid()) {\n    return checkoutNetwork2();\n  } else {\n    return Promise.resolve(\"X\");\n  }\n};\nvar setScreenHorizontal3 = async () => {\n  if (isIOS()) {\n    return setScreenHorizontal();\n  } else if (isAndroid()) {\n    return setScreenHorizontal2();\n  } else {\n    return Promise.resolve();\n  }\n};\nvar setScreenPortrait3 = async () => {\n  if (isIOS()) {\n    return setScreenPortrait();\n  } else if (isAndroid()) {\n    return setScreenPortrait2();\n  } else {\n    return Promise.resolve();\n  }\n};\nvar scan3 = async () => {\n  if (isIOS()) {\n    return scan();\n  } else if (isAndroid()) {\n    return scan2();\n  } else {\n    return Promise.resolve(\"X\");\n  }\n};\nexport {\n  checkoutNetwork3 as checkoutNetwork,\n  index_default as default,\n  getDeviceInfo3 as getDeviceInfo,\n  isAndroid,\n  isIOS,\n  preDial3 as preDial,\n  readLocal3 as readLocal,\n  scan3 as scan,\n  setScreenHorizontal3 as setScreenHorizontal,\n  setScreenPortrait3 as setScreenPortrait,\n  writeLocal3 as writeLocal\n};\n"],
  "mappings": "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",
  "names": []
}
